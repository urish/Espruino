exports.list=function(b,d){var a=d[""],c=Object.keys(d);a&&c.splice(c.indexOf(""),1);a instanceof Object||(a={});void 0===a.selected&&(a.selected=0);a.fontHeight||(a.fontHeight=6);var f=0|a.x,h=a.x2||b.getWidth()-1,e=0|a.y,m=a.y2||b.getHeight()-1;a.title&&(e+=a.fontHeight+2);var l={draw:function(){b.clear();b.setColor(-1);a.title&&(b.drawString(a.title,f+(h-f-b.stringWidth(a.title))/2,e-a.fontHeight-2),b.drawLine(f,e-2,h,e-2));for(var k=0|Math.min((m-e)/a.fontHeight,c.length),d=E.clip(a.selected-
(k>>1),0,c.length-k),g=e;k--;)d==a.selected&&(b.fillRect(f,g,h,g+a.fontHeight-1),b.setColor(0)),b.drawString(c[d++],f,g),b.setColor(-1),g+=a.fontHeight;a.preflip&&a.preflip();b.flip&&b.flip()},select:function(){var b=d[c[a.selected]];"function"==typeof b&&b()},move:function(b){a.selected=0|Math.clip(a.selected+b,0,c.length-1);l.draw()}};l.draw();return l}